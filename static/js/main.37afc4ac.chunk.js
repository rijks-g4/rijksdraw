(this.webpackJsonprijksdraw=this.webpackJsonprijksdraw||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(26),s=n.n(r),i=n(115),u=(n(150),n(231)),l=n(232),j=(n(151),n(61)),o=n(142),b=n(60),p=n.n(b),d=n(109),h=n(40),O=n(234),m=n(235),x=n(237),f=n(238),g=n(69),y=n(233),w=n(141),v=n(21),k=n(236),N=n(145),C=n(7),I=k.a.Title;function F(){var e=Object(v.d)(),t=Object(c.useState)(null),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(h.a)(s,2),b=i[0],k=i[1],F=Object(c.useState)(null),S=Object(h.a)(F,2),P=S[0],q=S[1],L=Object(c.useState)((function(){return new Map})),T=Object(h.a)(L,2),A=T[0],E=T[1];function M(){return(M=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(Object(j.a)(Object(j.a)({},t),{},{pageNumber:1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return q({count:e.count,countFacets:e.countFacets}),e.artObjects}function J(){var e={query:a.query,results:Array.from(A.entries()).map((function(e){return e[1]}))};console.log(e);!function(e,t,n){var c=document.createElement("a"),a=new Blob([e],{type:n});c.href=URL.createObjectURL(a),c.download=t,document.body.appendChild(c),c.click()}(JSON.stringify(e),"results.json","application/json")}return Object(c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(p.a.mark((function e(){var t,n,c,r,s,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.apiKey,n=a.language,c=a.type,r=a.imgonly,s=a.query,i=a.pageNumber,u="https://www.rijksmuseum.nl/api/".concat(n,"/collection?key=").concat(t,"&type=").concat(c,"&imgonly=").concat(r,"&q=").concat(s,"&ps=").concat(10,"&p=").concat(i),e.next=4,fetch(u).then((function(e){return e.json()})).then((function(e){return B(e)}));case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=k,t.next=3,e();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a&&function(){n.apply(this,arguments)}()}),[a]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{className:"site-page-header",onBack:function(){return e(-1)},title:"Search Rijksmuseum",subTitle:"Search the Collection API (GET /api/[culture]/collection)"}),",",Object(C.jsx)(u.a,{children:Object(C.jsxs)(l.a,{span:24,children:[Object(C.jsx)(u.a,{children:Object(C.jsx)(l.a,{span:24,children:Object(C.jsx)(I,{level:4,children:"Parameters"})})}),Object(C.jsxs)(u.a,{children:[Object(C.jsx)(l.a,{span:20,children:Object(C.jsxs)(m.a,{name:"basic",labelCol:{span:12},wrapperCol:{span:16},layout:"inline",initialValues:{language:"en",type:"painting",imgonly:true},onFinish:function(e){return M.apply(this,arguments)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(C.jsx)(m.a.Item,{label:"API Key",name:"apiKey",rules:[{required:!0,message:"Please set API key!"}],children:Object(C.jsx)(x.a,{})}),Object(C.jsx)(m.a.Item,{label:"Language",name:"language",rules:[{required:!0,message:"Please set language!"}],children:Object(C.jsx)(x.a,{})}),Object(C.jsx)(m.a.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please set type!"}],children:Object(C.jsx)(x.a,{})}),Object(C.jsx)(m.a.Item,{name:"imgonly",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(C.jsx)(f.a,{children:"Only with images"})}),Object(C.jsx)(m.a.Item,{label:"Query",name:"query",children:Object(C.jsx)(x.a,{})}),Object(C.jsx)(m.a.Item,{wrapperCol:{offset:8,span:16},children:Object(C.jsx)(g.a,{type:"primary",htmlType:"submit",children:"Search"})})]})}),Object(C.jsx)(l.a,{span:4,children:Object(C.jsx)(g.a,{type:"primary",onClick:function(){return J()},children:"Export to JSON"})})]})]})}),P&&Object(C.jsx)(u.a,{children:Object(C.jsx)(l.a,{span:24,children:Object(C.jsxs)(I,{level:5,children:["Found ",P.count," art objects, ",P.countFacets.hasimage," have images."]})})}),a&&Object(C.jsx)(u.a,{children:Object(C.jsxs)(l.a,{span:24,children:[Object(C.jsx)(u.a,{children:Object(C.jsx)(l.a,{span:24,children:Object(C.jsx)(y.b,{itemLayout:"vertical",size:"large",pagination:!1,dataSource:b,renderItem:function(e){return Object(C.jsxs)(y.b.Item,{actions:[Object(C.jsx)(g.a,{onClick:function(){return function(e){E((function(t){return new Map([].concat(Object(o.a)(t),[[e.objectNumber,e]]))}))}(e)},children:"Add to List"}),Object(C.jsx)(g.a,{onClick:function(){return t=e.objectNumber,void E((function(e){var n=new Map(e);return n.delete(t),n}));var t},disabled:!A.has(e.objectNumber),children:"Remove from List"})],extra:Object(C.jsx)("img",{width:500,alt:"logo",src:e.webImage.url}),children:[Object(C.jsx)(y.b.Item.Meta,{avatar:A.has(e.objectNumber)&&Object(C.jsx)(w.a,{style:{backgroundColor:"green"},icon:Object(C.jsx)(N.a,{})}),title:Object(C.jsx)("a",{href:e.links.web,children:e.title}),description:e.longTitle}),e.objectNumber]},e.objectNumber)}})})}),Object(C.jsxs)(u.a,{children:[Object(C.jsx)(l.a,{span:2,children:Object(C.jsx)(g.a,{onClick:function(){return r((function(e){return Object(j.a)(Object(j.a)({},e),{},{pageNumber:e.pageNumber-1})}))},disabled:a.pageNumber<=1,children:"Previous"})}),Object(C.jsx)(l.a,{span:1,children:a.pageNumber}),Object(C.jsx)(l.a,{span:2,children:Object(C.jsx)(g.a,{onClick:function(){return r((function(e){return Object(j.a)(Object(j.a)({},e),{},{pageNumber:e.pageNumber+1})}))},disabled:0===b.length||b.length<10,children:"Next"})})]})]})})]})}F.displayName="SearchPage";var S=F;var P=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(l.a,{span:24,children:Object(C.jsx)(S,{})})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(i.a,{children:Object(C.jsx)(P,{})})}),document.getElementById("root")),q()}},[[228,1,2]]]);
//# sourceMappingURL=main.37afc4ac.chunk.js.map