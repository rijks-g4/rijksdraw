(this.webpackJsonprijksdraw=this.webpackJsonprijksdraw||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(26),r=n.n(c),s=n(86),i=(n(150),n(231)),j=n(232),l=n(21),u=(n(151),n(61)),o=n(142),b=n(60),p=n.n(b),d=n(110),h=n(40),O=n(234),m=n(235),x=n(237),f=n(238),g=n(69),y=n(233),w=n(141),k=n(236),v=n(145),N=n(7),C=k.a.Title;function I(){var e=Object(l.f)(),t=Object(a.useState)(null),n=Object(h.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),b=Object(h.a)(s,2),k=b[0],I=b[1],F=Object(a.useState)(null),P=Object(h.a)(F,2),S=P[0],q=P[1],L=Object(a.useState)((function(){return new Map})),T=Object(h.a)(L,2),A=T[0],E=T[1];function B(){return(B=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(Object(u.a)(Object(u.a)({},t),{},{pageNumber:1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return q({count:e.count,countFacets:e.countFacets}),e.artObjects}function M(){var e={query:c.query,results:Array.from(A.entries()).map((function(e){return e[1]}))};console.log(e);!function(e,t,n){var a=document.createElement("a"),c=new Blob([e],{type:n});a.href=URL.createObjectURL(c),a.download=t,document.body.appendChild(a),a.click()}(JSON.stringify(e),"results.json","application/json")}return Object(a.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(p.a.mark((function e(){var t,n,a,r,s,i,j,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.apiKey,n=c.language,a=c.type,r=c.imgonly,s=c.query,i=c.pageNumber,j="https://www.rijksmuseum.nl/api/".concat(n,"/collection?key=").concat(t,"&type=").concat(a,"&imgonly=").concat(r,"&q=").concat(s,"&ps=").concat(10,"&p=").concat(i),e.next=4,fetch(j).then((function(e){return e.json()})).then((function(e){return J(e)}));case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(d.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=I,t.next=3,e();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}c&&function(){n.apply(this,arguments)}()}),[c]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(O.a,{className:"site-page-header",onBack:function(){return e(-1)},title:"Search Rijksmuseum",subTitle:"Search the Collection API (GET /api/[culture]/collection)"}),",",Object(N.jsx)(i.a,{children:Object(N.jsxs)(j.a,{span:24,children:[Object(N.jsx)(i.a,{children:Object(N.jsx)(j.a,{span:24,children:Object(N.jsx)(C,{level:4,children:"Parameters"})})}),Object(N.jsxs)(i.a,{children:[Object(N.jsx)(j.a,{span:20,children:Object(N.jsxs)(m.a,{name:"basic",labelCol:{span:12},wrapperCol:{span:16},layout:"inline",initialValues:{language:"en",type:"painting",imgonly:true},onFinish:function(e){return B.apply(this,arguments)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(N.jsx)(m.a.Item,{label:"API Key",name:"apiKey",rules:[{required:!0,message:"Please set API key!"}],children:Object(N.jsx)(x.a,{})}),Object(N.jsx)(m.a.Item,{label:"Language",name:"language",rules:[{required:!0,message:"Please set language!"}],children:Object(N.jsx)(x.a,{})}),Object(N.jsx)(m.a.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please set type!"}],children:Object(N.jsx)(x.a,{})}),Object(N.jsx)(m.a.Item,{name:"imgonly",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(N.jsx)(f.a,{children:"Only with images"})}),Object(N.jsx)(m.a.Item,{label:"Query",name:"query",children:Object(N.jsx)(x.a,{})}),Object(N.jsx)(m.a.Item,{wrapperCol:{offset:8,span:16},children:Object(N.jsx)(g.a,{type:"primary",htmlType:"submit",children:"Search"})})]})}),Object(N.jsx)(j.a,{span:4,children:Object(N.jsx)(g.a,{type:"primary",onClick:function(){return M()},children:"Export to JSON"})})]})]})}),S&&Object(N.jsx)(i.a,{children:Object(N.jsx)(j.a,{span:24,children:Object(N.jsxs)(C,{level:5,children:["Found ",S.count," art objects, ",S.countFacets.hasimage," have images."]})})}),c&&Object(N.jsx)(i.a,{children:Object(N.jsxs)(j.a,{span:24,children:[Object(N.jsx)(i.a,{children:Object(N.jsx)(j.a,{span:24,children:Object(N.jsx)(y.b,{itemLayout:"vertical",size:"large",pagination:!1,dataSource:k,renderItem:function(e){return Object(N.jsxs)(y.b.Item,{actions:[Object(N.jsx)(g.a,{onClick:function(){return function(e){E((function(t){return new Map([].concat(Object(o.a)(t),[[e.objectNumber,e]]))}))}(e)},children:"Add to List"}),Object(N.jsx)(g.a,{onClick:function(){return t=e.objectNumber,void E((function(e){var n=new Map(e);return n.delete(t),n}));var t},disabled:!A.has(e.objectNumber),children:"Remove from List"})],extra:Object(N.jsx)("img",{width:500,alt:"logo",src:e.webImage.url}),children:[Object(N.jsx)(y.b.Item.Meta,{avatar:A.has(e.objectNumber)&&Object(N.jsx)(w.a,{style:{backgroundColor:"green"},icon:Object(N.jsx)(v.a,{})}),title:Object(N.jsx)("a",{href:e.links.web,children:e.title}),description:e.longTitle}),e.objectNumber]},e.objectNumber)}})})}),Object(N.jsxs)(i.a,{children:[Object(N.jsx)(j.a,{span:2,children:Object(N.jsx)(g.a,{onClick:function(){return r((function(e){return Object(u.a)(Object(u.a)({},e),{},{pageNumber:e.pageNumber-1})}))},disabled:c.pageNumber<=1,children:"Previous"})}),Object(N.jsx)(j.a,{span:1,children:c.pageNumber}),Object(N.jsx)(j.a,{span:2,children:Object(N.jsx)(g.a,{onClick:function(){return r((function(e){return Object(u.a)(Object(u.a)({},e),{},{pageNumber:e.pageNumber+1})}))},disabled:0===k.length||k.length<10,children:"Next"})})]})]})})]})}I.displayName="SearchPage";var F=I;var P=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(i.a,{children:Object(N.jsx)(j.a,{span:24,children:Object(N.jsx)(l.c,{children:Object(N.jsx)(l.a,{path:"/search",element:Object(N.jsx)(F,{})})})})})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};r.a.render(Object(N.jsx)(s.a,{basename:"/rijksdraw",children:Object(N.jsx)(P,{})}),document.getElementById("root")),S()}},[[228,1,2]]]);
//# sourceMappingURL=main.ba22879a.chunk.js.map